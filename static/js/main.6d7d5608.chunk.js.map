{"version":3,"sources":["base.js","Components/SignUp.js","Auth.js","Components/Login.js","Components/UploadPhotoButton.js","Components/AllImages.js","Components/NavBar.js","Components/Home.js","PrivateRoute.js","App.js","index.js"],"names":["firebaseConfig","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","SignUp","history","handleSignUp","useCallback","event","a","console","log","preventDefault","target","elements","email","password","auth","createUserWithEmailAndPassword","value","push","alert","onSubmit","name","type","placeholder","onClick","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","onAuthStateChanged","Provider","Login","handleLogin","perventDefault","signInWithEmailAndPassword","useContext","to","src","alt","className","storage","UploadPhotoButton","ref","child","currImage","setCurrImage","url","changeUrl","progress","setProgress","max","height","width","onChange","files","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","getDownloadURL","then","allImages","listRef","lastUrl","Array","listAll","res","items","forEach","itemRef","catch","NavBar","Home","AllImages","signOut","PrivateRoute","RouteComponent","component","rest","render","routeProps","App","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6d7d5608.chunk.js","sourcesContent":["import * as firebase from 'firebase';\nimport \"firebase/auth\";\n\nconst firebaseConfig = firebase.initializeApp({\n  // apiKey: 'AIzaSyALKHTz_Lv92B1EZvTEjqvIKnNDrQVQNgw',\n  // storageBucket: 'gs://artificer-f8573.appspot.com/'\n     apiKey: process.env.REACT_APP_FIREBASE_KEY,\n     authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n     databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n     projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n     storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n     messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID\n});\n\nexport default firebaseConfig;\n","import React, {useCallback } from 'react'\nimport { withRouter } from 'react-router'\nimport firebaseConfig from '../base'\n\nconst SignUp = ({ history }) => {\n  const handleSignUp = useCallback(async event => {\n    console.log(\"Made it here at least\");\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    try {\n      await firebaseConfig\n        .auth()\n        .createUserWithEmailAndPassword(email.value, password.value);\n      history.push(process.env.PUBLIC_URL + '/');\n    } catch(error) {\n      alert(error);\n    }\n  }, [history]);\n\n  const redirectLogIn = () => {\n    history.push(process.env.PUBLIC_URL + '/logIn');\n  }\n\n  return (\n    <div>\n      <h1>Sign Up</h1>\n      <form onSubmit={handleSignUp}>\n      <div>\n        <label>\n          Email\n          <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n        </label>\n      </div>\n      <div>\n        <label>\n          Password\n          <input name=\"password\" type=\"password\" placeholder=\"password\" />\n        </label>\n      </div>\n      <button type=\"submit\">Sign Up</button>\n      </form>\n      <button onClick={redirectLogIn}>Log In</button>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import React, {useEffect, useState} from 'react';\nimport firebaseConfig from './base.js'\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    firebaseConfig.auth().onAuthStateChanged(setCurrentUser);\n  }, []);\n\n  return (\n    <AuthContext.Provider\n       value={{\n         currentUser\n       }}\n    >\n       {children}\n    </AuthContext.Provider>\n  )\n}\n","import React, {useCallback, useContext } from 'react'\nimport { withRouter, Redirect } from 'react-router'\nimport firebaseConfig from '../base'\nimport { AuthContext } from '../Auth.js'\nimport './Login.css'\n\nconst Login = ({ history }) => {\n  const handleLogin = useCallback(\n    async event => {\n      event.perventDefault();\n      const {email,password} = event.target.elements;\n      try {\n        await firebaseConfig\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n        history.push(process.env.PUBLIC_URL + '/');\n      } catch (error) {\n        alert (error);\n      }\n    }, [history] );\n\n    const redirectSignUp = () => {\n      history.push(process.env.PUBLIC_URL + '/signUp');\n    }\n\n    const {currentUser} = useContext(AuthContext);\n\n    if ( currentUser ) {\n      return <Redirect to= {process.env.PUBLIC_URL + \"/\"} />\n    }\n\n  return (\n    <div>\n        <h1>Log in</h1>\n        <img src='./images/Favicon.png' alt=\"logo\"/>\n        <form onSubmit={handleLogin}>\n          <div className=\"LogInButton\">\n            <label>\n              Email\n            <input name=\"email\" type=\"email\" placeholder=\"Email\" />\n            </label>\n          </div>\n          <div>\n            <label>\n              Password\n            <input name=\"password\" type=\"password\" placeholder=\"Password\" />\n            </label>\n          </div>\n          <button type=\"submit\">Log in</button>\n        </form>\n      <button onClick={redirectSignUp}>Sign Up</button>\n    </div>\n  );\n}\n\nexport default Login;\n","import * as firebase from 'firebase';\nimport React, { useState } from 'react';\nimport firebaseConfig from '../base';\n\n// Set the configuration for your app\n// TODO: Replace with your app's config object\n// const firebaseConfig = {\n//   // apiKey: 'AIzaSyALKHTz_Lv92B1EZvTEjqvIKnNDrQVQNgw',\n//   // storageBucket: 'gs://artificer-f8573.appspot.com/'\n//      apiKey: process.env.REACT_APP_FIREBASE_KEY,\n//      authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n//      databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n//      projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n//      storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n//      messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID\n// };\n\n//firebase.initializeApp(firebaseConfig);\n\n// Get a reference to the storage service, which is used to create references in your storage bucket\nvar storage = firebaseConfig.storage();\n\n// Create a root reference\nvar storageRef = firebaseConfig.storage().ref();\n\n// Create a reference to 'mountains.jpg'\nvar mountainsRef = storageRef.child('mountains.jpg');\n\nconst UploadPhotoButton = () => {\n  const [currImage, setCurrImage] = useState(null);\n  const [url, changeUrl] = useState(null);\n  const [progress, setProgress] = useState(0);\n\n  const fileSelectHandler = event => {\n   setCurrImage(event.target.files[0]);\n  }\n\n  const fileUploadHandler = () => {\n    const upload = storage.ref(`images/${currImage.name}`).put(currImage);\n    upload.on('state_changed',\n    (snapshot) => {\n      const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes)*100);\n      setProgress(progress);\n    }, (error) => {\n      //error function\n      console.log(error);\n    }, () => {\n      storage.ref('images').child(currImage.name).getDownloadURL().then(url => {\n        console.log(url);\n        changeUrl(url);\n      })\n    });\n  }\n\n  return (\n    <div>\n      <progress value={progress} max=\"100\" />\n      <br />\n      <br />\n      <img src={url || 'http://via.placeholder.com/400x300'} alt=\"Uploaded Image\" height=\"300\" width=\"400\"/>\n      <br />\n      <br />\n      <input type=\"file\" onChange={fileSelectHandler}/>\n      <button onClick={fileUploadHandler}>Upload</button>\n      <br />\n    </div>\n  );\n}\n\nexport default UploadPhotoButton;\n","import React from 'react';\nimport * as firebase from 'firebase';\n\nconst allImages = () => {\n  // Create a reference under which you want to list\nlet storageRef = firebase.storage().ref();\nlet listRef = storageRef.child('images/');\n\nlet images = [...Array(3)];\nlet i = 0;\nlet lastUrl = \"\";\n// Find all the prefixes and items.\nlistRef.listAll().then(function(res) {\n  res.items.forEach(function(itemRef) {\n    itemRef.getDownloadURL().then(function(url) {\n      lastUrl = url;\n    });\n  });\n}).catch(function(error) {\n  console.log(error);\n});\n\n console.log(lastUrl);\n\n return (\n   <div>\n        <img src={lastUrl} />;\n   </div>\n )\n\n}\n\nexport default allImages;\n","import React from 'react'\n\nconst NavBar = () => {\n  return (\n    <div>\n      <p>Home</p>\n      <p>Profile</p>\n    </div>\n  )\n}\n\nexport default NavBar;\n","import React from 'react'\nimport UploadPhotoButton from './UploadPhotoButton';\nimport AllImages from './AllImages';\nimport NavBar from './NavBar'\nimport firebaseConfig from '../base'\n\nconst Home = () => {\n  return (\n    <div>\n      <NavBar />\n      <UploadPhotoButton />\n      <AllImages />\n      <button onClick={() => firebaseConfig.auth().signOut()}>Sign Out</button>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from './Auth'\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest}) => {\n  const {currentUser} = useContext(AuthContext);\n  return (\n    <Route\n       {...rest}\n       render={routeProps =>\n         !!currentUser ? (\n           <RouteComponent {...routeProps} />\n         ) : (\n           <Redirect to={process.env.PUBLIC_URL + \"/login\"} />\n         )\n       }\n    />\n  );\n}\n\nexport default PrivateRoute\n","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport SignUp from './Components/SignUp';\nimport Login from './Components/Login';\nimport Home from './Components/Home';\nimport { AuthProvider } from './Auth';\nimport PrivateRoute from './PrivateRoute'\n\nconst App = () => {\n\n  return (\n    <AuthProvider>\n      <Router>\n        <div>\n          <PrivateRoute exact path={process.env.PUBLIC_URL + \"/\"} component={Home} />\n          <Route exact path={process.env.PUBLIC_URL + \"/login\"} component={Login} />\n          <Route exact path={process.env.PUBLIC_URL + \"/signup\"} component={SignUp} />\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}